sudo yum update -y
sudo yum install docker
sudo service docker start
sudo usermod -a -G docker ec2-user
sudo docker info

https://labs.play-with-docker.com/
https://labs.play-with-docker.com/p/c3j595vqf8u000ek7c1g

copiar - ctrl + insert
colar - ctrl + shift + v

# obs. cada node precisa ter o docker instalado
# no docker.labs nao precisa instalar nada

# --------------------------------------------
# CRIAR NODE
# --------------------------------------------
add new instance
ssh ip172-18-0-10-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com
ssh ip172-18-0-21-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com
ssh ip172-18-0-138-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com

# --------------------------------------------
# CRIAR NODE_MANAGER - gerenciador de node
# --------------------------------------------
sudo docker swarm init
sudo docker swarm init --advertise-addr 192.168.0.16

resultara em :
    docker swarm join --token SWMTKN-1-36eu2w4avbp2jlkgum4drr3teuuglp7uuxvn661467foezlw1c-4d5r4gnb326fqpv3omdvab4lu 192.168.0.16:2377

# --------------------------------------------
# JOIN NODE para um NODE_MANAGER
# --------------------------------------------
docker swarm join --token SWMTKN-1-36eu2w4avbp2jlkgum4drr3teuuglp7uuxvn661467foezlw1c-4d5r4gnb326fqpv3omdvab4lu 192.168.0.16:2377


# --------------------------------------------
# REMOVER UM NODE DO MODO SWARM
# --------------------------------------------
sudo docker swarm leave -f
sudo docker swarm leave --force


# --------------------------------------------
# LISTANDO os NODE no NODE_MANAGER
# --------------------------------------------
docker node ls

# --------------------------------------------
# LISTANDO os SERVICES no NODE_MANAGER
# --------------------------------------------
docker service ls

# --------------------------------------------
# ADICIONANDO SERVICE ao NODE_MANAGER
# --------------------------------------------
docker service create --name nginxswarm -p 80:80 nginx
docker service create --name nginxswarm2 -p 81:80 nginx

# --------------------------------------------
# REMOVENDO um SERVICE do NODE_MANAGER
# --------------------------------------------
docker service rm <nome>

# --------------------------------------------
# How can I connect to a published port from the outside world?
# --------------------------------------------
# https://github.com/play-with-docker/play-with-docker
If you need to access your services from outside, 
use the following 
URL pattern 
http://ip<hyphen-ip>-<session_jd>-<port>.direct.labs.play-with-docker.com 
(i.e: http://ip-2-135-3-b8ir6vbg5vr00095iil0-8080.direct.labs.play-with-docker.com).

isso:
ssh ip172-18-0-35-c3jfb87njsv000aj893g@direct.labs.play-with-docker.com
ssh ip172-18-0-162-c3jfb87njsv000aj893g@direct.labs.play-with-docker.com
ssh ip172-18-0-127-c3jfb87njsv000aj893g@direct.labs.play-with-docker.com
vira isso:
http://ip172-18-0-35-c3jfb87njsv000aj893g-80.direct.labs.play-with-docker.com/
http://ip172-18-0-162-c3jfb87njsv000aj893g-80.direct.labs.play-with-docker.com/
http://ip172-18-0-127-c3jfb87njsv000aj893g-80.direct.labs.play-with-docker.com/



