sudo yum update -y
sudo yum install docker
sudo service docker start
sudo usermod -a -G docker ec2-user
sudo docker info

https://labs.play-with-docker.com/
https://labs.play-with-docker.com/p/c3j595vqf8u000ek7c1g

copiar - ctrl + insert
colar - ctrl + shift + v

# obs. cada node precisa ter o docker instalado
# no docker.labs nao precisa instalar nada

# criar node
add new instance
ssh ip172-18-0-10-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com
ssh ip172-18-0-21-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com
ssh ip172-18-0-138-c3j5b0nqf8u000ek7c3g@direct.labs.play-with-docker.com

# transformar um node em gerenciador de node
sudo docker swarm init
sudo docker swarm init --advertise-addr 192.168.0.16

# token usado para adicionar em cada node
docker swarm join --token SWMTKN-1-36eu2w4avbp2jlkgum4drr3teuuglp7uuxvn661467foezlw1c-4d5r4gnb326fqpv3omdvab4lu 192.168.0.16:2377

# tirar docker do swarm
sudo docker swarm leave -f
sudo docker swarm leave --force

docker node ls

# adicionar node no manager
docker swarm join --token SWMTKN-1-1etq0urgoqyx2rhyowiu7any4cucn9tanp5aqjymg2jks3kr3b-4u7g4i8jvlupaao6nw0ebegln 192.168.0.16:2377
docker node ls





